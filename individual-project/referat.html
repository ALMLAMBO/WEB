<!DOCTYPE html>
<html lang="en">

<head>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<meta charset="UTF-8">
	<title>Web Assembly</title>
	<link rel="stylesheet" href="css/materialize.css">
	<link rel="stylesheet" href="css/github.min.css">
	<link rel="stylesheet" href="css/style.css">
</head>

<body>
	<section class="navbar-fixed">
		<nav class="nav-wrapper indigo darken-4">
			<a href="#" class="brand-logo">WASM</a>
			<a href="#" data-target="mobile-navbar" class="sidenav-trigger">
				<i class="material-icons">menu</i></a>  
			<ul class="right hide-on-med-and-down">
				<li><a href="#intro">Въведение</a></li>
				<li><a href="#what-is-it">Какво представлява</a></li>
				<li><a href="#how-it-works">Как работи</a></li>
				<li><a href="#examples">Примери</a></li>
				<li><a href="#pros-and-cons">Предимства и недостатъци</a>
				</li>
				<li><a href="#references">Източници</a></li>
			</ul>
		</nav>
	</section>

	<ul class="sidenav" id="mobile-navbar">
		<li><a href="#intro">Въведение</a></li>
		<li><a href="#what-is-it">Какво представлява</a></li>
		<li><a href="#how-it-works">Как работи</a></li>
		<li><a href="#examples">Примери</a></li>
		<li><a href="#pros-and-cons">Предимства и недостатъци</a></li>
	</ul>

	<main class="content">
		<article class="container-wrapper">
			<section class="section-alignment card" id="intro">
				<h1 class="section-header">Въведение</h1>
				<p>
					През последните около 10-20 единственият език, който се
					е използвал без никакъв проблем от браузърите, е бил JavaScript.
					Всички допълнения към браузарите, които позволяват
					други езици да се изпълняват в браузера, започнали бавно да умират -
					примери за това са Java и Flash's Action Script. Всички останали езици
					за уеб програмиране като например TypeScript и CoffeeScript се
					компилират до JavaScript.
				</p>
				<p>
					След 2017 година възниква нов начин за създаване на
					уеб приложения - WebAssembly или WASM за краткост. Целта на Wasm
					не е да замени JavaScript, а по-скоро да бъде като
					алтернативен начин за създаване на уеб приложения. В същото време, Wasm
					позволява всички езици да бъдат използвани за създаване
					на приложения, включително и JavaScript.
				</p>
			</section>

			<section class="section-alignment card" id="what-is-it">
				<h1 class="section-header">Какво представлява</h1>
				<p>
					Езикът Assembly представлява език за програмиране от ниско ниво,
					чиято цел е да комуникира директно с хардуера на устройството.
					За разлика от машинния код, който е съставен от двоични и шестнайсетични 
					символи, Assembly е четим от хора. Също така езиците за програмиране от
					ниско ниво са връзката между езици за програмиране като Python, C++, C# и 
					хардуера на компютъра.
				</p>
				<p>
					Wasm представлява двоичен код, който е много близо до
					Assembly. Също така WASM не зависи нито от езика,
					нито от платформата на който се разработва дадено приложение,
					защото WebAssembly може да бъде компилиран от други езици и
					може да бъде изпълняван от браузер или виртуална машина.
					Също така WebAssembly е отворен стандарт, чиято
					главна цел е да предостави възможно най-голяма близост до
					производителността на Assembly в браузера и в същото
					време да поддържа съвместимост със сегашните екосистеми и
					стандарти.
				</p>
				<h2 class="section-header">Основни концепции</h2>
				<p>
					Част от основните концепции на Wasm са:
				</p>
				<ul>
					<li>
						Модулярност - Wasm може да бъде разделен на
						модули, за да бъде компилиран от браузъра или виртуалната машина.
					</li>
					<li>
						Стек машина - Wasm работи на принципа на
						инструкциите. От своя страна, инструкциите позволяват контрол над
						циклите, аритметичните операции и достъпа до паметта.
					</li>
				</ul>
				<h2 class="section-header">Функционалности</h2>
				<ul>
					<li>
						Wasm е език от ниско ниво, който не се пише от
						хора, но може да компилира всички езици - C, C++, Rust, etc.
					</li>
					<li>
						Wasm се представя в двоичен формат и съдържа
						по-малко информация за сваляне като има и формат, четим от хора -
						WAT(WebAssembly Text). Пример за WAT може да бъде разгледан на 
						Код 1.
					</li>
					<li>
						Двоичните файлове на Wasm се декодират и компилират до машинен код без нуждата от оптимизация,
						защото по време на генерирането на Wasm двоичните файлове са напълно оптимизирани.
					</li>
				</ul>
				<pre>
					<code>
		(
		module
		(func $multiply (param $lhs i32) (param $rhs i32) (result i32)
    	get_local $lhs
   		get_local $rhs
    	i32.mul)
  		(export "multiply" (func $multiply))
		)   
					</code>
				</pre>
				<p>Код 1 пример за WAT</p>
			</section>

			<section class="section-alignment card" id="how-it-works">
				<h1 class="section-header">Как работи</h1>
				<p>
					Въпреки своето име, WASM не се води точно assembly
					език, защото не зависи от това на каква машина ще 
					бъде изпълняван кода. WASM е предназначен за браузeра 
					и когато се предоставя код за изпълнение на браузера, 
					не се знае на каква машина кодът ще работи.
					На следващата фигура е показано на най-високо ниво
					процесът на работа на Wasm.
				</p>
				<img id="wasm-high-level" class="image" src="img/wasm-high-level.png" alt="">
				<p>Фигура 1. Процес на работа на Wasm на най-високо ниво</p>
				<p>
					Начинът на работа на WASM, обяснен на най-високо ниво, е следният - дадено приложение се написва на определен език,
					след което компилаторът на WASM компилира всички файлове на приложението, като ги оптимизира до възможно най-голяма
					степен и го комплира също по такъв начин, че да не зависи от архитектура на машината, на която приложението ще работи.
				</p>
				<p>
					Wasm се състои от файлове, които са четими от хората, и такива, които се изпълняват от браузърите.
					На следващата фигура това може да бъде разгледано.
				</p>
				<img id="wasm-text-binary" class="image" src="img/wasm-text-binary.png" alt="">
				<p>Фигура 2. Файлове на Wasm</p>
				<p>
					Wasm позволява на езици като C, C++ и други да бъдат
					компилирани до така наречените модули. Всеки модул може да бъде зареден
					в браузъра и да бъде използван от JavaScript. В
					допълнение, Wasm не е създаден да замени JavaScript, а да работи в
					синхрон с него.
					На следващата фигура това може да бъде разгледано.
				</p>
				<img id="wasm-js" class="image" src="img/wasm-js.png" alt="">
				<p>Фигура 3. Работа на Wasm</p>
				<p>
					Примерът, който ще бъде разгледан за това как работи WebAssembly, ще бъде програма, написана на C.
					Кодът,
					който ще се представи, може да бъде разгледан в секцията Код 2.
				</p>
				<pre>
					<code class="language-c">
		#include &lt;stdio.h&gt;
		int main() {
			printf("Hello World!\n");
			return 0;
		}
		   			</code>
	   			</pre>
				<p>Код 2. Програма Hello World, написана на С.</p>
				<p>
					За да бъде компилирана програмата с Wasm, е необходимо да се инсталира Emscripten.
					Изпълнявайки командата, показана в Код 3, ще бъдат генерирани един файл с разширение wasm,
					един html документ и един js файл.
				</p>
				<pre>
					<code>
		emcc hello.c -o hello.html
					</code>
	   			</pre>
				<p>
					Kод 3. Генериране на на файлове за изпълнение в браузъра.
				</p>
				<p>
					По време на изпълнението се генерират html и js
					файловете, защото Wasm няма директен достъп до
					APIs на която и да е платформа - DOM, WebGL и други.
					Генерирането на файловете може да бъде разгледано на Фигура 4.
					След изпълнението на командата от Код 2, html файлът
					може да бъде отворен в браузър, зареждайки js файла, който зарежда wasm
					файла.
					Всеки wasm файл може да бъде разглеждан като модул от
					дадено приложение - може да бъде зареждан,
					изтеглен и изпълняван. Всеки браузър има възможността
					за зареждане и експортиране на тези wasm
					файлове, което позволява да се работи по същия начин
					както с обекти от JavaScript. В JavaScript
					Има функции, които могат да бъдат извикани от
					WebAssembly модулите, и WebAssembly функции, които
					могат да бъдат извикани от JavaScript код.
					Примитивните типове, които се предоставят, са всички числа.
					Предаването на сложни обекти между JavaScript и
					WebAssembly не е проста задача. Например, за да пердадем
					стринг между двете, трябва стрингът да се представи
					като масив от числа и след това да се подаде указател
					към този масив. Също така, WebAssembly може да чете и
					пише само от своята линейна памет и няма пряк достъп
					до външните JavaScript променливи, освен ако не се
					копират в паметта или подадени чрез call stack.
				</p>
				<img id="wasm-file-generation" class="image" src="img/wasm-file-generation.png" alt="" "71">
				<p>
					Фигура 4. Генериране на файлове за wasm
				</p>
			</section>

			<section class="section-alignment card" id="examples">
				<h1 class="section-header">Примери</h1>
				<h2 class="section-header">Blazor</h2>
				<p>
					Blazor WebAssembly представлява структура за изграждане на клиентски приложения,
					използвайки .NET. Също така позволява на разработчиците да използват C# и .NET
					за създаването на интерактивни и динамични страници, работещи в браузера без
					необходимостта от инсталирания на допълнения към браузера.
				</p>
				<p>
					Blazor WebAssembly е изграден на база на WebAssembly, двоичен код, който 
					може да бъде изпълнен в браузерите. Също използва комбинация от C# и .NET
					като предоставят модел за програмиране от високо ниво за изграждане на уеб
					приложения.
				</p>
				<p>
					Едно от най-ключовите предимства на Blazor WebAssembly e, че позволява
					използването на един и същи език за програмиране и инструменти както за 
					сървърната част, така и за клиентската част, позволявайки по-лесното
					създаване на full-stack .NET приложения, улеснявайки споделянето на код 
					между сървъра и клиента.
				</p>

				<h3 class="section-header">Предимства</h3>
				<p>
					
				</p>
			</section>

			<section class="section-alignment card" id="pros-and-cons">
				<h1 class="section-header">Предимства и недостатъци</h1>
				<p>
					В тази секция ще бъдат разгледани предимствата и недостатъците на WebAssembly.
				</p>
				<h2 class="section-header">Предимства</h2>
				<ul>
					<li>
						<section>
							<h5>Многоплатформеност</h5>
							<p>
								Много от разработчиците се стремят към
								възмонжно най-голяма производителност за всяка платформа,
								но това изисква доста усилия от тяхна
								страна. WebAssembly изпъква най-много с функционалността,
								че код може да се напише на всякакъв език
								за програмиране, различен от JavaScript, и да се създаде
								уеб приложение. Портативността е една от
								най-изпъкващите характеристики на WebAssembly от самото начало,
								оптимизирайки ресурсите, които използва
								дадено уеб приложение.
							</p>
						</section>
					</li>

					<li>
						<section>
							<h5>Оптимизация</h5>
							<p>
								WebAssembly е статичен, което означава, че оптимизацията на кода се прилага
								преди да достигне до браузъра, което води по-добра производителност и оптимизация
								на времето. Това от своя страна води до по-висока производителност.
							</p>
						</section>
					</li>

					<li>
						<section>
							<h5>Бързодействие</h5>
							<p>
								.wasm файловете, които се генерират по време на компилирането, са много малки,
								което води до значително по-бързо време за зареждане и до по-висока скорост,
								с която уеб приложението работи.
							</p>
						</section>
					</li>

					<li>
						<section>
							<h5>Сигурност</h5>
							<p>
								Модулната система, с която работи WebAssembly, разделяйки уеб приложението на
								малки парчета, предпазва потребителя от възможни хакерски атаки. Начинът, по който
								е реализирано, е чрез изолиране на изпълнението на модулите.
							</p>
						</section>
					</li>
				</ul>

				<h2 class="section-header">Недостатъци</h2>
				<ul>
					<li>
						<section>
							<h5>Липса на garbage collection</h5>
							<p>
								Един от най-големите недостатъци на WebAssembly е липсата на управление на паметта.
								Езици като
								WebAssembly не ползват garbage collector и се нуждае от механизми за управление на
								заделената
								памет.
							</p>
						</section>
					</li>

					<li>
						<section>
							<h5>Работа с DOM</h5>
							<p>
								Все още WebAssembly трябва да работи с JavaScript вместо да работи директно с DOM.
							</p>
						</section>
					</li>

					<li>
						<section>
							<h5>Сложност на езика</h5>
							<p>
								WebAssembly език от ниско ниво, което го прави по-труден за научаване, а това се явява
								пречка да стане толкова известен, колкото JavaScript.
							</p>
						</section>
					</li>
				</ul>
			</section>

			<section class="section-alignment card" id="references">
				<h1 class="section-header">Източници</h1>
				<ul>
					<li>
						<a href="https://www.infoworld.com/article/3291780/what-is-webassembly-the-next-generation-web-platform-explained.html"
							target="_blank">
							[1]Serdar Yegulalp, What is WebAssembly? The next-generation web platform explained,
							27.05.2022
						</a>
					</li>

					<li>
						<a href="https://www.fullstacklabs.co/blog/what-is-webassembly" target="_blank">
							[2]Luis Hernandez What Is WebAssembly And What Is It Used For?, unknown date
						</a>
					</li>

					<li>
						<a href="https://blog.logrocket.com/webassembly-how-and-why-559b7f96cd71/" target="_blank">
							[3]Milica Mihajlija, WebAssembly: How and why, 14.08.2018
						</a>
					</li>

					<li>
						<a href="https://medium.com/front-end-weekly/webassembly-why-and-how-to-use-it-2a4f95c8148f"
							target="_blank">
							[4]Vaibhav Kumar, WebAssembly: Easy explanation with code example, 15.01.2020
						</a>
					</li>

					<li>
						<a href="https://www.scoredigital.io/articles/webassembly-vs-javascript-similarities-differences-pros-and-cons"
							target="_blank">
							[5]ScoreDigital, WebAssembly vs JavaScript:
							Similarities, Differences &amp; Pros And Cons, 29.08.2022
						</a>
					</li>

					<li>
						<a href="https://www.investopedia.com/terms/a/assembly-language.asp" target="_blank">
							[6]Jason Fernando, Assembly Language, 01.10.2022
						</a>
					</li>
					<li>
						<a href="https://www.webassemblyman.com/wat_webassembly_text_format.html" target="_blank">
							[7]WebAssemblyMan, WAT, Webassembly text format, unknown date 
						</a>
					</li>
					<li>
						<a href="https://www.bizety.com/2022/12/27/webassembly-tools-and-frameworks/" target="_blank">
							[8]Bitezy Staff, WebAssembly Tools and Frameworks, 27.12.2022
						</a>
					</li>
					<li>
						<a href="https://www.rocksolidknowledge.com/articles/an-introduction-to-blazor-webassembly" target="_blank">
							[9]Alex Jones, An introduction to Blazor WebAssembly, 02.02.2021
						</a>
					</li>
				</ul>
			</section>
		</article>
	</main>

	<script src="javascript/materialize.js"></script>
	<script src="javascript/highlight.min.js"></script>
	<script src="javascript/c.min.js"></script>
	<script src="javascript/bash.min.js"></script>
	<script src="directives/script.js"></script>
</body>

</html>